<!DOCTYPE html>
<html>

<head>
  <title>Cyberpunk Apartment</title>
  <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <script src="https://unpkg.com/aframe-room-component/dist/aframe-room-component.min.js"></script>
</head>

<body>
  <a-scene>

    <!-- Assets -->
    <a-assets>
      <img id="sky" src="https://img.gs/bbdkhfbzkk/2048x2048,stretch/http://i.imgur.com/WqlqEkq.jpg" crossorigin="anonymous" />
      <a-asset-item id="couch" src="assets/couch-2.glb"></a-asset-item>
      <a-asset-item id="gen" src="assets/generator.glb"></a-asset-item>
      <a-asset-item id="bed" src="assets/bed-1.glb"></a-asset-item>
      <img id="floorTexture" src="assets/floor.png" crossorigin="anonymous">
      <img id="wallTexture" src="assets/wall.png" crossorigin="anonymous">
    </a-assets>

    <a-image src="assets/city.png" position="0.5 1 2.9" height="3" width="5" light="type: point; color: white; intensity: 0.4"></a-image>
    <a-gltf-model src="#couch" position="2 0.3 2" scale="0.4 0.4 0.4" rotation="0 180 0"dw></a-gltf-model>
    <a-gltf-model src="#gen" position="2.2 0.8 -1" scale="0.4 0.4 0.4" rotation="0 180 0"dw></a-gltf-model>
    <a-entity position="-1.2 0.2 1" animation__1="property: object3D.position.y; to: 0.3; dir: alternate; dur: 2500; easing: easeInOutSine; loop: true">
      <a-gltf-model src="#bed" scale="0.6 0.6 0.6" rotation="0 90 0"></a-gltf-model>
    </a-entity>

    <!-- Lighting -->
    <a-entity light="type: ambient; intensity: 0.5;"></a-entity>
    <a-entity id="lightSphere" position="0 2.75 0" geometry="primitive: sphere; radius: 0.5"
      material="color: #FFF; shader: flat" light="type:point; intensity: 0.4; castShadow: true;"
      animation__1="property: object3D.position.y; to: 2.8; dir: alternate; dur: 2500; easing: easeInOutSine; loop: true">
    </a-entity>

    <!--- Room Component -->
    <rw-room position="-2 0 -2" material="src:#wallTexture; repeat:0.5 0.5;">
      <rw-wall position="5 0 0"></rw-wall>
      <rw-wall position="5 0 5"></rw-wall>
      <rw-wall position="0 0 5"></rw-wall>
      <rw-ceiling position="0 0 0" material="src:#wallTexture; repeat:0.5 0.5;"></rw-ceiling>
      <rw-floor position="0 0 0" material="src:#floorTexture; repeat:0.5 0.5;"></rw-floor>
      <rw-wall position="0 0 0">
        <rw-doorhole id="holeA"></rw-doorhole>
        <rw-doorlink from="#holeA" to="#holeB" position="2.5 0 0"></rw-doorlink>
      </rw-wall>
    </rw-room>
    <rw-room position="0 0 -3" material="src:#wallTexture; repeat:0.5 0.5;">
      <rw-wall position=" 1 0 -1"></rw-wall>
      <rw-wall position=" 1 0  1">
        <rw-doorhole id="holeB"></rw-doorhole>
      </rw-wall>
      <rw-wall position="-1 0  1"></rw-wall>
      <rw-wall position="-1 0 -1"></rw-wall>
      <rw-floor position="0 0 0"></rw-floor>
    </rw-room>

    <!--- Sky -->
    <a-sky src="#sky" rotation="0 -90 0"></a-sky>

  </a-scene>
</body>

</html>
